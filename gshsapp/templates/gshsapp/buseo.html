{% extends 'base.html' %}
{% block content %}
{% load humanize %}

<div class="row">
    <div class="col-md-2">
        <div class="card box_shadow">
            <div class="card-header bg-secondary text-light text-center">
              <h6>ë¶€ì„œë³„</h6>  
            </div>
            <div class="card-body">
                <ul>
                {% for buseo in buseos %}
                    <li>{{ buseo.hosil }}</li>
                {% endfor %}
                </ul>            
            </div>
        </div>       
    </div>
    
    <div class="col-md-10">    
      <div>
        <span style="padding-left: 20px;">ğŸ™„ ë¶€ì›ë“¤ <span>
      </div>  
      <table class="table text-center mt-2">
          <thead class="table-secondary">
            <tr>
              <th scope="col">êµ¬ë§¤ì¼</th>
              <th scope="col">êµ¬ë¶„</th>
              <th scope="col">ì„±ëª…</th>
              <th scope="col">ì œì¡°ì‚¬</th>
              <th scope="col">ëª¨ë¸ëª…</th>
              <th scope="col">IP</th>
              <th scope="col">ë¹„ê³ </th>                    
              <th scope="col"></th>                    
            </tr>
          </thead>
            {% for gigi in members %}
            {% if gigi.buyproduct.gubun.gubun == 'notebook' or gigi.buyproduct.gubun.gubun == 'desktop' %}
            <tr>
              <td>{{ gigi.buyproduct.buydate|date:"Y-m-d" }}</td>
              <td>{{ gigi.buyproduct.gubun }}</td>
              <td>{{ gigi.user.name }}</td>       
              <td>{{ gigi.buyproduct.company }}</td>
              <td>{{ gigi.buyproduct.model }}</td>
              <td>{{ gigi.ip }}</td>
              <td>{{ gigi.bigo }}</td>                
              <td><span class="gigi-update" type="button">ğŸ“</span></td>                
            </tr>
            {% endif %}
            {% endfor %}
          </tbody>
        </table>
        
        <div class="mt-5">
          <span style="padding-left: 20px;">ğŸ¦‰ ì •ë³´ê¸°ìì¬ <span>
        </div>
        <table class="table text-center mt-2">
          <thead class="table-secondary">
            <tr>
              <th scope="col">êµ¬ë§¤ì¼</th>
              <th scope="col">êµ¬ë¶„</th>
              <th scope="col">ì œì¡°ì‚¬</th>
              <th scope="col">ëª¨ë¸ëª…</th>
              <th scope="col">ìƒ‰ìƒ</th>
              <th scope="col">IP</th>
              <th scope="col">ë¹„ê³ </th>                    
            </tr>
          </thead>
            {% for gigi in members %}
            {% if gigi.buyproduct.gubun.gubun != 'notebook' and gigi.buyproduct.gubun.gubun != 'desktop' %}
            <tr>
              <td>{{ gigi.buyproduct.buydate|date:"Y-m-d" }}</td>
              <td>{{ gigi.buyproduct.gubun }}</td>        
              <td>{{ gigi.buyproduct.company }}</td>
              <td>{{ gigi.buyproduct.model }}</td>
              <td>{{ gigi.color }}</td>
              <td>{{ gigi.ip }}</td>
              <td>{{ gigi.bigo }}</td>                
            </tr>
            {% endif %}
            {% endfor %}
          </tbody>
        </table>
        <br><br><hr>
        <div class="mt-5">
          <span style="padding-left: 20px;">ğŸ· ì†Œëª¨í’ˆêµì²´ <span>
        </div>
        <table class="table text-center mt-2">
          <thead class="table-secondary">
            <tr>
              <th scope="col">ë‚ ì§œ</th> 
              <th scope="col">ì œì¡°ì‚¬</th>
              <th scope="col">ëª¨ë¸ëª…</th>
              <th scope="col">ë¶€í’ˆ</th>
              <th scope="col">ê°œìˆ˜</th>
              <th scope="col">ë¹„ìš©</th>
              <th scope="col">ë¹„ê³ </th>                    
            </tr>
          </thead>
            {% for gigi in changes %}
            <tr>
              <td>{{ gigi.date|date:"Y-m-d" }}</td>        
              <td>{{ gigi.gigiinfo.buyproduct.company }}</td>
              <td>{{ gigi.gigiinfo.buyproduct.model }}</td>
              <td>{{ gigi.gubun }}</td>
              <td>{{ gigi.count }}</td>
              <td>&#8361;{{ gigi.cost|intcomma }}</td>
              <td>{{ gigi.bigo }}</td>                
            </tr>
            {% endfor %}
          </tbody>
        </table>

        <div class="mt-5">
          <span style="padding-left: 20px;">ğŸ¦Š ì†Œëª¨í’ˆìˆ˜ë¦¬ <span>
        </div>
        <table class="table text-center mt-2">
          <thead class="table-secondary">
            <tr>
              <th scope="col">êµ¬ë§¤ì¼</th> 
              <th scope="col">ì œì¡°ì‚¬</th>
              <th scope="col">ëª¨ë¸ëª…</th>
              <th scope="col">ì›ì¸</th>
              <th scope="col">ê²°ê³¼</th>
              <th scope="col">ë¹„ìš©</th>
              <th scope="col">ë¹„ê³ </th>                    
            </tr>
          </thead>
            {% for gigi in repairs %}
            <tr>
              <td>{{ gigi.date|date:"Y-m-d" }}</td>        
              <td>{{ gigi.gigiinfo.buyproduct.company }}</td>
              <td>{{ gigi.gigiinfo.buyproduct.model }}</td>
              <td>{{ gigi.problem }}</td>
              <td>{{ gigi.result }}</td>
              <td>&#8361;{{ gigi.cost|intcomma }}</td>
              <td>{{ gigi.bigo }}</td>                 
            </tr>
            {% endfor %}
          </tbody>
        </table>
    </div>
</div>


<!-- Modal content-->  
<div id="modal" class="modal-overlay">
  <div class="modal-window">
      <div class="title">
        <div class="title_side"></div>
        <div> ì‘ì—…í•˜ê¸° </div>
        <div class="title_side">
            <span id="close_modal" class="material-icons-outlined">
                x
            </span>
        </div>
      </div>
      <hr>
      <div class="content">
          <p>ê°€ë‚˜ë‹¤ë¼ë§ˆë°”ì‚¬ ì•„ìì°¨ì¹´íƒ€íŒŒí•˜</p>
          <p>ê°€ë‚˜ë‹¤ë¼ë§ˆë°”ì‚¬ ì•„ìì°¨ì¹´íƒ€íŒŒí•˜</p>
          <p>ê°€ë‚˜ë‹¤ë¼ë§ˆë°”ì‚¬ ì•„ìì°¨ì¹´íƒ€íŒŒí•˜</p>
          <p>ê°€ë‚˜ë‹¤ë¼ë§ˆë°”ì‚¬ ì•„ìì°¨ì¹´íƒ€íŒŒí•˜</p>
      </div>
  </div>
</div>   

<script>
  
  $(function(){
    $(document).on("click", ".gigi-update", function(){    
      $("#modal").css("display", "flex"); // ëª¨ë‹¬ ë„ìš°ê¸° ì½”ë“œ.
    });    

    $("#close_modal").click(function(){
      $("#modal").css("display", "none"); 
    });
    // ì™¸ë¶€ì˜ì—­ í´ë¦­ì‹œ ë‹«ê¸°
    // $(document).mouseup(function (e){
    //   var LayerPopup = $("#modal");
    //   if(LayerPopup.has(e.target).length === 0){
    //     $("#modal").css("display", "none");
    //   }
    // });
  });
  
  
</script>

{% endblock %}